import{u as b,v as w,r as n,j as s,p as N}from"./index-BYmQdkFJ.js";import{s as a}from"./Auth.module-0E8Lv_Cg.js";const C=()=>{const{t:e}=b("auth"),x=w(),[r,f]=n.useState({email:"",password:""}),[l,i]=n.useState(""),[d,c]=n.useState(!1),m=o=>{f({...r,[o.target.name]:o.target.value})},j=async o=>{var u,g,h,p;o.preventDefault(),i(""),c(!0);try{const t=await N.post("/login",r);t.data.is_success?(localStorage.setItem("token",t.data.token.access_token),x("/profile")):i(t.data.message||e("login.failed"))}catch(t){const v=((g=(u=t.response)==null?void 0:u.data)==null?void 0:g.message)||((p=(h=t.response)==null?void 0:h.data)==null?void 0:p.errors)||e("login.failed");i(v)}finally{c(!1)}};return s.jsx("div",{className:a.authContainer,children:s.jsxs("div",{className:a.authCard,children:[s.jsx("h2",{children:e("login.title")}),s.jsx("p",{children:e("login.subtitle")}),l&&s.jsx("div",{className:a.error,children:l}),s.jsxs("form",{onSubmit:j,className:a.authForm,children:[s.jsxs("div",{className:a.formGroup,children:[s.jsx("label",{htmlFor:"email",children:e("login.email")}),s.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:m,required:!0})]}),s.jsxs("div",{className:a.formGroup,children:[s.jsx("label",{htmlFor:"password",children:e("login.password")}),s.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:m,required:!0,minLength:"2"})]}),s.jsx("button",{type:"submit",className:a.submitButton,disabled:d,children:e(d?"login.loading":"login.submit")})]}),s.jsxs("div",{className:a.authLinks,children:[s.jsxs("p",{children:[e("login.noAccount")," ",s.jsx("a",{href:"/register",children:e("login.register")})]}),s.jsx("a",{href:"/forgot-password",className:a.forgotPassword,children:e("login.forgotPassword")})]})]})})};export{C as default};
